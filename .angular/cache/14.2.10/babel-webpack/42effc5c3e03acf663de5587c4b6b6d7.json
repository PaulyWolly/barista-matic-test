{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar Subject_1 = require(\"./Subject\");\nvar queue_1 = require(\"./scheduler/queue\");\nvar Subscription_1 = require(\"./Subscription\");\nvar observeOn_1 = require(\"./operators/observeOn\");\nvar ObjectUnsubscribedError_1 = require(\"./util/ObjectUnsubscribedError\");\nvar SubjectSubscription_1 = require(\"./SubjectSubscription\");\nvar ReplaySubject = function (_super) {\n  __extends(ReplaySubject, _super);\n  function ReplaySubject(bufferSize, windowTime, scheduler) {\n    if (bufferSize === void 0) {\n      bufferSize = Number.POSITIVE_INFINITY;\n    }\n    if (windowTime === void 0) {\n      windowTime = Number.POSITIVE_INFINITY;\n    }\n    var _this = _super.call(this) || this;\n    _this.scheduler = scheduler;\n    _this._events = [];\n    _this._infiniteTimeWindow = false;\n    _this._bufferSize = bufferSize < 1 ? 1 : bufferSize;\n    _this._windowTime = windowTime < 1 ? 1 : windowTime;\n    if (windowTime === Number.POSITIVE_INFINITY) {\n      _this._infiniteTimeWindow = true;\n      _this.next = _this.nextInfiniteTimeWindow;\n    } else {\n      _this.next = _this.nextTimeWindow;\n    }\n    return _this;\n  }\n  ReplaySubject.prototype.nextInfiniteTimeWindow = function (value) {\n    if (!this.isStopped) {\n      var _events = this._events;\n      _events.push(value);\n      if (_events.length > this._bufferSize) {\n        _events.shift();\n      }\n    }\n    _super.prototype.next.call(this, value);\n  };\n  ReplaySubject.prototype.nextTimeWindow = function (value) {\n    if (!this.isStopped) {\n      this._events.push(new ReplayEvent(this._getNow(), value));\n      this._trimBufferThenGetEvents();\n    }\n    _super.prototype.next.call(this, value);\n  };\n  ReplaySubject.prototype._subscribe = function (subscriber) {\n    var _infiniteTimeWindow = this._infiniteTimeWindow;\n    var _events = _infiniteTimeWindow ? this._events : this._trimBufferThenGetEvents();\n    var scheduler = this.scheduler;\n    var len = _events.length;\n    var subscription;\n    if (this.closed) {\n      throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n    } else if (this.isStopped || this.hasError) {\n      subscription = Subscription_1.Subscription.EMPTY;\n    } else {\n      this.observers.push(subscriber);\n      subscription = new SubjectSubscription_1.SubjectSubscription(this, subscriber);\n    }\n    if (scheduler) {\n      subscriber.add(subscriber = new observeOn_1.ObserveOnSubscriber(subscriber, scheduler));\n    }\n    if (_infiniteTimeWindow) {\n      for (var i = 0; i < len && !subscriber.closed; i++) {\n        subscriber.next(_events[i]);\n      }\n    } else {\n      for (var i = 0; i < len && !subscriber.closed; i++) {\n        subscriber.next(_events[i].value);\n      }\n    }\n    if (this.hasError) {\n      subscriber.error(this.thrownError);\n    } else if (this.isStopped) {\n      subscriber.complete();\n    }\n    return subscription;\n  };\n  ReplaySubject.prototype._getNow = function () {\n    return (this.scheduler || queue_1.queue).now();\n  };\n  ReplaySubject.prototype._trimBufferThenGetEvents = function () {\n    var now = this._getNow();\n    var _bufferSize = this._bufferSize;\n    var _windowTime = this._windowTime;\n    var _events = this._events;\n    var eventsCount = _events.length;\n    var spliceCount = 0;\n    while (spliceCount < eventsCount) {\n      if (now - _events[spliceCount].time < _windowTime) {\n        break;\n      }\n      spliceCount++;\n    }\n    if (eventsCount > _bufferSize) {\n      spliceCount = Math.max(spliceCount, eventsCount - _bufferSize);\n    }\n    if (spliceCount > 0) {\n      _events.splice(0, spliceCount);\n    }\n    return _events;\n  };\n  return ReplaySubject;\n}(Subject_1.Subject);\nexports.ReplaySubject = ReplaySubject;\nvar ReplayEvent = function () {\n  function ReplayEvent(time, value) {\n    this.time = time;\n    this.value = value;\n  }\n  return ReplayEvent;\n}();","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","exports","value","Subject_1","require","queue_1","Subscription_1","observeOn_1","ObjectUnsubscribedError_1","SubjectSubscription_1","ReplaySubject","_super","bufferSize","windowTime","scheduler","Number","POSITIVE_INFINITY","_this","call","_events","_infiniteTimeWindow","_bufferSize","_windowTime","next","nextInfiniteTimeWindow","nextTimeWindow","isStopped","push","length","shift","ReplayEvent","_getNow","_trimBufferThenGetEvents","_subscribe","subscriber","len","subscription","closed","ObjectUnsubscribedError","hasError","Subscription","EMPTY","observers","SubjectSubscription","add","ObserveOnSubscriber","i","error","thrownError","complete","queue","now","eventsCount","spliceCount","time","Math","max","splice","Subject"],"sources":["C:/projects/ANGULAR/Barista-matic-main/node_modules/rxjs/internal/ReplaySubject.js"],"sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subject_1 = require(\"./Subject\");\nvar queue_1 = require(\"./scheduler/queue\");\nvar Subscription_1 = require(\"./Subscription\");\nvar observeOn_1 = require(\"./operators/observeOn\");\nvar ObjectUnsubscribedError_1 = require(\"./util/ObjectUnsubscribedError\");\nvar SubjectSubscription_1 = require(\"./SubjectSubscription\");\nvar ReplaySubject = (function (_super) {\n    __extends(ReplaySubject, _super);\n    function ReplaySubject(bufferSize, windowTime, scheduler) {\n        if (bufferSize === void 0) { bufferSize = Number.POSITIVE_INFINITY; }\n        if (windowTime === void 0) { windowTime = Number.POSITIVE_INFINITY; }\n        var _this = _super.call(this) || this;\n        _this.scheduler = scheduler;\n        _this._events = [];\n        _this._infiniteTimeWindow = false;\n        _this._bufferSize = bufferSize < 1 ? 1 : bufferSize;\n        _this._windowTime = windowTime < 1 ? 1 : windowTime;\n        if (windowTime === Number.POSITIVE_INFINITY) {\n            _this._infiniteTimeWindow = true;\n            _this.next = _this.nextInfiniteTimeWindow;\n        }\n        else {\n            _this.next = _this.nextTimeWindow;\n        }\n        return _this;\n    }\n    ReplaySubject.prototype.nextInfiniteTimeWindow = function (value) {\n        if (!this.isStopped) {\n            var _events = this._events;\n            _events.push(value);\n            if (_events.length > this._bufferSize) {\n                _events.shift();\n            }\n        }\n        _super.prototype.next.call(this, value);\n    };\n    ReplaySubject.prototype.nextTimeWindow = function (value) {\n        if (!this.isStopped) {\n            this._events.push(new ReplayEvent(this._getNow(), value));\n            this._trimBufferThenGetEvents();\n        }\n        _super.prototype.next.call(this, value);\n    };\n    ReplaySubject.prototype._subscribe = function (subscriber) {\n        var _infiniteTimeWindow = this._infiniteTimeWindow;\n        var _events = _infiniteTimeWindow ? this._events : this._trimBufferThenGetEvents();\n        var scheduler = this.scheduler;\n        var len = _events.length;\n        var subscription;\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else if (this.isStopped || this.hasError) {\n            subscription = Subscription_1.Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            subscription = new SubjectSubscription_1.SubjectSubscription(this, subscriber);\n        }\n        if (scheduler) {\n            subscriber.add(subscriber = new observeOn_1.ObserveOnSubscriber(subscriber, scheduler));\n        }\n        if (_infiniteTimeWindow) {\n            for (var i = 0; i < len && !subscriber.closed; i++) {\n                subscriber.next(_events[i]);\n            }\n        }\n        else {\n            for (var i = 0; i < len && !subscriber.closed; i++) {\n                subscriber.next(_events[i].value);\n            }\n        }\n        if (this.hasError) {\n            subscriber.error(this.thrownError);\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n        }\n        return subscription;\n    };\n    ReplaySubject.prototype._getNow = function () {\n        return (this.scheduler || queue_1.queue).now();\n    };\n    ReplaySubject.prototype._trimBufferThenGetEvents = function () {\n        var now = this._getNow();\n        var _bufferSize = this._bufferSize;\n        var _windowTime = this._windowTime;\n        var _events = this._events;\n        var eventsCount = _events.length;\n        var spliceCount = 0;\n        while (spliceCount < eventsCount) {\n            if ((now - _events[spliceCount].time) < _windowTime) {\n                break;\n            }\n            spliceCount++;\n        }\n        if (eventsCount > _bufferSize) {\n            spliceCount = Math.max(spliceCount, eventsCount - _bufferSize);\n        }\n        if (spliceCount > 0) {\n            _events.splice(0, spliceCount);\n        }\n        return _events;\n    };\n    return ReplaySubject;\n}(Subject_1.Subject));\nexports.ReplaySubject = ReplaySubject;\nvar ReplayEvent = (function () {\n    function ReplayEvent(time, value) {\n        this.time = time;\n        this.value = value;\n    }\n    return ReplayEvent;\n}());\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}